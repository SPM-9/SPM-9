Index: src/main/java/com/fxxkyiwangchangxue/yiwangnochangxue/service/board/PostComment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.fxxkyiwangchangxue.yiwangnochangxue.service.board;\r\n\r\nimport com.fxxkyiwangchangxue.yiwangnochangxue.dao.SqlSessionFactoryUtils;\r\nimport com.fxxkyiwangchangxue.yiwangnochangxue.dao.mapper.CommentMapper;\r\nimport com.fxxkyiwangchangxue.yiwangnochangxue.entity.Comment;\r\nimport com.google.gson.Gson;\r\nimport jakarta.servlet.*;\r\nimport jakarta.servlet.http.*;\r\nimport jakarta.servlet.annotation.*;\r\nimport org.apache.ibatis.session.SqlSession;\r\nimport org.apache.ibatis.session.SqlSessionFactory;\r\n\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport java.sql.SQLException;\r\n\r\n@WebServlet(name = \"PostComment\", value = \"/PostComment\")\r\npublic class PostComment extends HttpServlet {\r\n    @Override\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        doPost(request,response);\r\n    }\r\n\r\n    @Override\r\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        System.out.println(\"他来了\");\r\n        response.setContentType(\"text/html; charset = UTF-8\");\r\n        PrintWriter pw = response.getWriter();\r\n\r\n        String name = request.getParameter(\"name\");\r\n        String email = request.getParameter(\"email\");\r\n        String subject = request.getParameter(\"subject\");\r\n        String content = request.getParameter(\"content\");\r\n\r\n        Comment comment = new Comment(name, email, subject, content);\r\n\r\n        SqlSessionFactory sqlSessionFactory = SqlSessionFactoryUtils.getSqlSessionFactory();\r\n        SqlSession sqlSession = sqlSessionFactory.openSession(true);\r\n        CommentMapper commentMapper = sqlSession.getMapper(CommentMapper.class);\r\n        Gson gson = new Gson();\r\n\r\n        String message;\r\n        try {\r\n            commentMapper.insertComment(comment);\r\n            message = \"评论成功\";\r\n            String messageJson = gson.toJson(message);\r\n            pw.write(messageJson);\r\n        } catch (SQLException e) {\r\n            message = \"评论失败\";\r\n            String messageJson = gson.toJson(message);\r\n            pw.write(messageJson);\r\n        }\r\n        sqlSession.close();\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/com/fxxkyiwangchangxue/yiwangnochangxue/service/board/PostComment.java b/src/main/java/com/fxxkyiwangchangxue/yiwangnochangxue/service/board/PostComment.java
--- a/src/main/java/com/fxxkyiwangchangxue/yiwangnochangxue/service/board/PostComment.java	(revision 78b65303491e452fc2e0810cf484be01c452f5ee)
+++ b/src/main/java/com/fxxkyiwangchangxue/yiwangnochangxue/service/board/PostComment.java	(date 1703333847071)
@@ -23,7 +23,6 @@
 
     @Override
     protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
-        System.out.println("他来了");
         response.setContentType("text/html; charset = UTF-8");
         PrintWriter pw = response.getWriter();
 
Index: src/main/webapp/discussion.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE html>\r\n<html>\r\n\r\n<head>\r\n    <title>Contact</title>\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"keywords\" content=\"\" />\r\n    <style>\r\n        .container {\r\n            width: 100%; /* 可以根据需要设置容器的宽度 */\r\n        }\r\n\r\n        .container img {\r\n            max-width: 100%; /* 图片的最大宽度不超过容器宽度 */\r\n            height: auto; /* 保持图片的宽高比例 */\r\n            display: block; /* 去除底部间隙 */\r\n        }\r\n    </style>\r\n\r\n    <script type=\"application/x-javascript\">\r\n        addEventListener(\"load\", function () {\r\n            setTimeout(hideURLbar, 0);\r\n        }, false);\r\n\r\n        function hideURLbar() {\r\n            window.scrollTo(0, 1);\r\n        }\r\n    </script>\r\n    <link href=\"css/bootstrap.css\" rel='stylesheet' type='text/css' />\r\n    <link href=\"css/style.css\" rel='stylesheet' type='text/css' />\r\n    <link href=\"css/contact.css\" rel='stylesheet' type='text/css' />\r\n    <link href=\"css/font-awesome.css\" rel=\"stylesheet\">\r\n    <link href=\"http://fonts.googleapis.com/css?family=Merriweather+Sans:300,300i,400,400i,700,700i,800\" rel=\"stylesheet\">\r\n    <link href=\"http://fonts.googleapis.com/css?family=Mallanna\" rel=\"stylesheet\">\r\n</head>\r\n\r\n<body>\r\n<!--Header-->\r\n<!--Header-->\r\n<div class=\"top-bar_sub_w3layouts_agile\">\r\n    <h6>一网不畅学 <a href=\"contact.html\">联系我们</a></h6>\r\n    <div class=\"search\">\r\n        <h5><a class=\"sign\" href=\"#\" data-toggle=\"modal\" data-target=\"#myModal2\">登录</a></h5>\r\n        <div class=\"cd-main-header\">\r\n            <ul class=\"cd-header-buttons\">\r\n                <li><a class=\"cd-search-trigger\" href=\"#cd-search\"> <span></span></a></li>\r\n            </ul>\r\n            <!-- cd-header-buttons -->\r\n        </div>\r\n        <div id=\"cd-search\" class=\"cd-search\">\r\n            <form action=\"#\" method=\"post\">\r\n                <input name=\"Search\" type=\"search\" placeholder=\"Click enter after typing...\">\r\n            </form>\r\n        </div>\r\n    </div>\r\n    <div class=\"clearfix\"> </div>\r\n</div>\r\n<div class=\"header inner_banner\" id=\"home\">\r\n    <!--/top-bar-->\r\n    <div class=\"top-bar\">\r\n        <div class=\"header-nav-agileits\">\r\n\r\n            <nav class=\"navbar navbar-default\">\r\n                <!-- Brand and toggle get grouped for better mobile display -->\r\n                <div class=\"navbar-header\">\r\n                    <button type=\"button\" class=\"navbar-toggle collapsed\" data-toggle=\"collapse\" data-target=\"#bs-example-navbar-collapse-1\">\r\n                        <span class=\"sr-only\">Toggle navigation</span>\r\n                        <span class=\"icon-bar\"></span>\r\n                        <span class=\"icon-bar\"></span>\r\n                        <span class=\"icon-bar\"></span>\r\n                    </button>\r\n                    <h1><a class=\"navbar-brand\" href=\"index.html\">项目管理在线学习网站 <span></span></a></h1>\r\n                </div>\r\n                <!-- Collect the nav links, forms, and other content for toggling -->\r\n                <div class=\"collapse navbar-collapse nav-wil\" id=\"bs-example-navbar-collapse-1\">\r\n                    <nav>\r\n                        <ul class=\"top_nav\">\r\n                            <li><a href=\"index.html\">首页</a></li>\r\n                            <li><a href=\"about.html\">课程介绍</a></li>\r\n                            <li class=\"dropdown\">\r\n                                <a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\" data-hover=\"Pages\" role=\"button\" aria-haspopup=\"true\" aria-expanded=\"false\">课程学习<span class=\"fa fa-angle-down\"></span></a>\r\n                                <ul class=\"dropdown-menu\">\r\n                                    <li><a href=\"services.html\">教学视频</a></li>\r\n                                    <li><a href=\"join.html\">选课</a></li>\r\n                                </ul>\r\n                            </li>\r\n                            <li class=\"dropdown\">\r\n                                <a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\" data-hover=\"Pages\" role=\"button\" aria-haspopup=\"true\" aria-expanded=\"false\">课程实践<span class=\"fa fa-angle-down\"></span></a>\r\n                                <ul class=\"dropdown-menu\">\r\n                                    <li><a href=\"join.html\">课程大作业</a></li>\r\n                                    <li><a href=\"join.html\">日常测验</a></li>\r\n                                    <li><a href=\"join.html\">课后作业</a></li>\r\n                                </ul>\r\n                            </li>\r\n                            <li><a href=\"courses.html\">学习模块</a></li>\r\n                            <li><a href=\"discussion.html\"  class=\"active\">留言板</a></li>\r\n                            <li><a href=\"contact.html\">联系我们</a></li>\r\n                        </ul>\r\n                    </nav>\r\n                </div>\r\n            </nav>\r\n\r\n        </div>\r\n    </div>\r\n    <!--//top-bar-->\r\n    <!--/ banner-text -->\r\n    <!--// banner-text -->\r\n</div>\r\n<!--//inner_banner-->\r\n<!--/short-->\r\n<div class=\"services-breadcrumb-w3ls-agile\">\r\n    <div class=\"inner_breadcrumb\">\r\n\r\n        <ul class=\"short\">\r\n            <li><a href=\"index.html\">Home</a><span>|</span></li>\r\n            <li>Contact</li>\r\n        </ul>\r\n    </div>\r\n</div>\r\n<!--//short-->\r\n<!-- //inner_content -->\r\n\r\n<!-- Modal1 -->\r\n<div class=\"modal fade\" id=\"myModal2\" tabindex=\"-1\" role=\"dialog\">\r\n    <div class=\"modal-dialog\">\r\n        <!-- Modal content-->\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\">&times;</button>\r\n\r\n                <div class=\"signin-form profile\">\r\n\r\n                    <div class=\"login-m_page_img\">\r\n\r\n                        <img src=\"images/model.jpg\" alt=\" \" class=\"img-responsive\" />\r\n\r\n                    </div>\r\n                    <div class=\"login-m_page\">\r\n                        <h3 class=\"sign\">Sign In</h3>\r\n                        <div class=\"login-form-wthree-agile\">\r\n                            <form action=\"#\" method=\"post\">\r\n                                <input type=\"email\" name=\"email\" placeholder=\"E-mail\" required=\"\">\r\n                                <input type=\"password\" name=\"password\" placeholder=\"Password\" required=\"\">\r\n                                <div class=\"tp\">\r\n                                    <input type=\"submit\" value=\"Sign In\">\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                        <div class=\"login-social-grids\">\r\n                            <ul>\r\n                                <li><a href=\"#\"><i class=\"fa fa-facebook\"></i></a></li>\r\n                                <li><a href=\"#\"><i class=\"fa fa-twitter\"></i></a></li>\r\n                                <li><a href=\"#\"><i class=\"fa fa-rss\"></i></a></li>\r\n                            </ul>\r\n                        </div>\r\n                        <p><a href=\"#\" data-toggle=\"modal\" data-target=\"#myModal3\"> Don't have an account?</a></p>\r\n                    </div>\r\n                    <div class=\"clearfix\"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- //Modal1 -->\r\n<!-- Modal2 -->\r\n<div class=\"modal fade\" id=\"myModal3\" tabindex=\"-1\" role=\"dialog\">\r\n    <div class=\"modal-dialog\">\r\n        <!-- Modal content-->\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\">&times;</button>\r\n\r\n                <div class=\"signin-form profile\">\r\n\r\n                    <div class=\"login-m_page_img\">\r\n\r\n                        <img src=\"images/model.jpg\" alt=\" \" class=\"img-responsive\" />\r\n\r\n                    </div>\r\n                    <div class=\"login-m_page\">\r\n                        <h3 class=\"sign\">Sign Up</h3>\r\n                        <div class=\"login-form-wthree-agile\">\r\n                            <form action=\"#\" method=\"post\">\r\n                                <input type=\"text\" name=\"name\" placeholder=\"Username\" required=\"\">\r\n                                <input type=\"email\" name=\"email\" placeholder=\"Email\" required=\"\">\r\n                                <input type=\"password\" name=\"password\" placeholder=\"Password\" required=\"\">\r\n                                <input type=\"password\" name=\"password\" placeholder=\"Confirm Password\" required=\"\">\r\n                                <input type=\"submit\" value=\"Sign Up\">\r\n                            </form>\r\n                        </div>\r\n                        <p><a href=\"#\"> By clicking Sign up, I agree to your terms</a></p>\r\n                    </div>\r\n                    <div class=\"clearfix\"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- //Modal2 -->\r\n\r\n<!--//Header-->\r\n<div class=\"banner_bottom\">\r\n    <div class=\"container\">\r\n<!--        <div class=\"tittle_head\">-->\r\n<!--            <h3 class=\"headerw3\">SPM-9 小组 </h3>-->\r\n<!--        </div>-->\r\n<!--        <div class=\"inner_sec_w3_agileinfo\">-->\r\n<!--            <div class=\"col-md-8 map\">-->\r\n<!--                <img src=\"images/spm_9.jpg\">-->\r\n<!--            </div>-->\r\n<!--            <div class=\"col-md-4 contact_grids_info\">-->\r\n<!--                <div class=\"contact_grid\">-->\r\n<!--                    <div class=\"contact_grid_right\">-->\r\n<!--                        <h4> OFFICE 1</h4>-->\r\n<!--                        <p>435 City hall,</p>-->\r\n<!--                        <p>NewYork City SD092.</p>-->\r\n<!--                    </div>-->\r\n<!--                </div>-->\r\n<!--                <div class=\"contact_grid\">-->\r\n<!--                    <div class=\"contact_grid_right\">-->\r\n<!--                        <h4> OFFICE 2</h4>-->\r\n<!--                        <p>8088 Jasmine hall,</p>-->\r\n<!--                        <p>NewYork City SD092.</p>-->\r\n<!--                    </div>-->\r\n<!--                </div>-->\r\n<!--                <div class=\"contact_grid\" data-aos=\"flip-up\">-->\r\n\r\n<!--                    <div class=\"contact_grid_right\">-->\r\n<!--                        <h4>OFFICE 3</h4>-->\r\n<!--                        <p>436 Honey hall,</p>-->\r\n<!--                        <p>NewYork City SD092.</p>-->\r\n<!--                    </div>-->\r\n<!--                    <div class=\"clearfix\"> </div>-->\r\n<!--                </div>-->\r\n<!--                <div class=\"clearfix\"> </div>-->\r\n<!--            </div>-->\r\n<!--            <div class=\"clearfix\"> </div>-->\r\n<!--        </div>-->\r\n\r\n        <div class=\"mail_form\">\r\n            <h3 class=\"headerw3\">Send Us a Message</h3>\r\n            <div class=\"inner_sec_w3_agileinfo\">\r\n                <form action=\"PostComment\" method=\"post\">\r\n\t\t\t\t\t\t<span class=\"input input--chisato\">\r\n\t\t\t\t\t\t<input class=\"input__field input__field--chisato\" name=\"name\" type=\"text\" id=\"input-13\" placeholder=\" \" required=\"\" />\r\n\t\t\t\t\t\t<label class=\"input__label input__label--chisato\" for=\"input-13\">\r\n\t\t\t\t\t\t\t<span class=\"input__label-content input__label-content--chisato\" data-content=\"Name\">Name</span>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t</span>\r\n                    <span class=\"input input--chisato\">\r\n\t\t\t\t\t\t<input class=\"input__field input__field--chisato\" name=\"email\" type=\"email\" id=\"input-14\" placeholder=\" \" required=\"\" />\r\n\t\t\t\t\t\t<label class=\"input__label input__label--chisato\" for=\"input-14\">\r\n\t\t\t\t\t\t\t<span class=\"input__label-content input__label-content--chisato\" data-content=\"Email\">Email</span>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t</span>\r\n                    <span class=\"input input--chisato\">\r\n\t\t\t\t\t\t<input class=\"input__field input__field--chisato\" name=\"subject\" type=\"text\" id=\"input-15\" placeholder=\" \" required=\"\" />\r\n\t\t\t\t\t\t<label class=\"input__label input__label--chisato\" for=\"input-15\">\r\n\t\t\t\t\t\t\t<span class=\"input__label-content input__label-content--chisato\" data-content=\"Subject\">Subject</span>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t</span>\r\n                    <textarea name=\"content\" placeholder=\"Your comment here...\" required=\"\"></textarea>\r\n                    <input type=\"submit\" value=\"Submit\">\r\n                </form>\r\n\r\n            </div>\r\n        </div>\r\n        <div class=\"clearfix\"> </div>\r\n\r\n    </div>\r\n</div>\r\n</div>\r\n\r\n<!--footer-->\r\n<div class=\"contact-footer-w3layouts-agile\">\r\n\r\n    <div class=\"bottom-social-agileits-w3ls\">\r\n        <div class=\"container\">\r\n            <div class=\"col-md-8 botttom-nav-w3ls-agileits\">\r\n                <ul class=\"f_links col-md-4\">\r\n                    <li>\r\n                        <a href=\"index.html\">首页</a>\r\n                    </li>\r\n                    <li>\r\n                        <a href=\"about.html\">课程介绍</a>\r\n                    </li>\r\n                    <li>\r\n                        <a href=\"services.html\">教学视频</a>\r\n                    </li>\r\n                    <li>\r\n                        <a href=\"courses.html\">选课</a>\r\n                    </li>\r\n\r\n                </ul>\r\n                <ul class=\"f_links col-md-4\">\r\n                    <li>\r\n                        <a href=\"index.html\">课程大作业</a>\r\n                    </li>\r\n                    <li>\r\n                        <a href=\"404.html\">日常测验</a>\r\n                    </li>\r\n                    <li>\r\n                        <a href=\"404.html\">课后作业</a>\r\n                    </li>\r\n                    <li>\r\n                        <a href=\"services.html\">学习模块</a>\r\n                    </li>\r\n\r\n                </ul>\r\n                <ul class=\"f_links thrd col-md-4\">\r\n                    <li>\r\n                        <a href=\"app.html\">Mobile App</a>\r\n                    </li>\r\n                    <li>\r\n                        <a href=\"contact.html\">联系我们</a>\r\n                    </li>\r\n\r\n                </ul>\r\n                <div class=\"clearfix\"></div>\r\n            </div>\r\n            <div class=\"col-md-4 social-icons-wthree\">\r\n                <h6>联系我们</h6>\r\n                <a class=\"facebook\" href=\"#\"><span class=\"fa fa-facebook\"></span></a>\r\n                <a class=\"twitter\" href=\"#\"><span class=\"fa fa-twitter\"></span></a>\r\n                <a class=\"pinterest\" href=\"#\"><span class=\"fa fa-pinterest-p\"></span></a>\r\n                <a class=\"linkedin\" href=\"#\"><span class=\"fa fa-linkedin\"></span></a>\r\n            </div>\r\n            <div class=\"clearfix\"></div>\r\n\r\n        </div>\r\n    </div>\r\n    <div class=\"copy-w3-agileits\">\r\n        <h2 class=\"footer-logo\"><a href=\"index.html\">项目管理在线学习网站<span>No Study</span></a></h2>\r\n        <p>SPM-9\"一起加油小组\"荣誉出品<a target=\"_blank\" href=\"http://www.cssmoban.com/\">No Study</a></p>\r\n        <div class=\"clearfix\"></div>\r\n    </div>\r\n</div>\r\n<!--/footer -->\r\n<!-- js -->\r\n<script type=\"text/javascript\" src=\"js/jquery-2.2.3.min.js\"></script>\r\n<!-- //js -->\r\n<!--search-bar-->\r\n<script src=\"js/main.js\"></script>\r\n<!--//search-bar-->\r\n<!-- start-smoth-scrolling -->\r\n<script type=\"text/javascript\" src=\"js/move-top.js\"></script>\r\n<script type=\"text/javascript\" src=\"js/easing.js\"></script>\r\n<script type=\"text/javascript\">\r\n    jQuery(document).ready(function ($) {\r\n        $(\".scroll\").click(function (event) {\r\n            event.preventDefault();\r\n            $('html,body').animate({\r\n                scrollTop: $(this.hash).offset().top\r\n            }, 900);\r\n        });\r\n    });\r\n</script>\r\n<!-- start-smoth-scrolling -->\r\n<script type=\"text/javascript\">\r\n    $(document).ready(function () {\r\n        /*\r\n                                var defaults = {\r\n                                      containerID: 'toTop', // fading element id\r\n                                    containerHoverID: 'toTopHover', // fading element hover id\r\n                                    scrollSpeed: 1200,\r\n                                    easingType: 'linear'\r\n                                 };\r\n                                */\r\n\r\n        $().UItoTop({\r\n            easingType: 'easeOutQuart'\r\n        });\r\n\r\n    });\r\n</script>\r\n<a href=\"#\" id=\"toTop\" style=\"display: block;\"> <span id=\"toTopHover\" style=\"opacity: 1;\"> </span></a>\r\n<script type=\"text/javascript\" src=\"js/bootstrap-3.1.1.min.js\"></script>\r\n\r\n\r\n</body>\r\n\r\n</html>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/webapp/discussion.html b/src/main/webapp/discussion.html
--- a/src/main/webapp/discussion.html	(revision 78b65303491e452fc2e0810cf484be01c452f5ee)
+++ b/src/main/webapp/discussion.html	(date 1703333847079)
@@ -239,13 +239,13 @@
 <!--        </div>-->
 
         <div class="mail_form">
-            <h3 class="headerw3">Send Us a Message</h3>
+            <h3 class="headerw3">留下评论</h3>
             <div class="inner_sec_w3_agileinfo">
                 <form action="PostComment" method="post">
 						<span class="input input--chisato">
 						<input class="input__field input__field--chisato" name="name" type="text" id="input-13" placeholder=" " required="" />
 						<label class="input__label input__label--chisato" for="input-13">
-							<span class="input__label-content input__label-content--chisato" data-content="Name">Name</span>
+							<span class="input__label-content input__label-content--chisato" data-content="Name">可以匿名</span>
 						</label>
 						</span>
                     <span class="input input--chisato">
